{"ast":null,"code":"import methods from 'validator';\nclass Validator {\n  constructor(rules) {\n    this.rules = rules;\n    this.initiate();\n  }\n  initiate() {\n    this.isValid = true;\n    this.errors = {};\n  }\n  rule() {\n    const rules = [{\n      field: \"name\",\n      method: \"isEmpty\",\n      validWhen: false,\n      message: \"Bạn chưa điền trường Name.\"\n    }, {\n      field: \"email\",\n      method: \"isEmpty\",\n      validWhen: false,\n      message: \"Bạn chưa điền trường Email.\"\n    }, {\n      field: 'email',\n      method: 'isEmail',\n      validWhen: true,\n      message: 'Chưa đúng định dạng Email.'\n    }, {\n      field: \"phone\",\n      method: \"isEmpty\",\n      validWhen: false,\n      message: \"Bạn chưa điền trường Phone.\"\n    }];\n  }\n  validate(state) {\n    this.initiate();\n    this.rules().forEach(rule => {\n      if (this.errors[rule.field]) return;\n      const fieldValue = state[rule.field] || '';\n      const args = rule.args || [];\n      const validationMethod = typeof rule.method === 'string' ? methods[rule.method] : rule.method;\n      if (validationMethod(fieldValue, ...args, state) !== rule.validWhen) {\n        this.errors[rule.field] = rule.message;\n        this.isValid = false;\n      }\n    });\n    return this.errors;\n  }\n}\nexport default Validator;","map":{"version":3,"names":["methods","Validator","constructor","rules","initiate","isValid","errors","rule","field","method","validWhen","message","validate","state","forEach","fieldValue","args","validationMethod"],"sources":["D:/Project/OpenServer/domains/Pionero-laravel/frontend-react/src/Utils/Validator.js"],"sourcesContent":["import methods from 'validator';\n\nclass Validator {\n  constructor(rules) {\n    this.rules = rules;\n    this.initiate();\n  }\n\n  initiate() {\n    this.isValid = true;\n    this.errors = {};\n  }\n\n  rule(){\n    const rules = [\n      {\n          field: \"name\",\n          method: \"isEmpty\",\n          validWhen: false,\n          message: \"Bạn chưa điền trường Name.\",\n      },\n      {\n          field: \"email\",\n          method: \"isEmpty\",\n          validWhen: false,\n          message: \"Bạn chưa điền trường Email.\",\n      },\n      {\n          field: 'email',\n          method: 'isEmail',\n          validWhen: true,\n          message: 'Chưa đúng định dạng Email.',\n      },\n      {\n          field: \"phone\",\n          method: \"isEmpty\",\n          validWhen: false,\n          message: \"Bạn chưa điền trường Phone.\",\n      },\n  ];\n  }\n\n  validate(state) {\n    this.initiate();\n    this.rules().forEach((rule) => {\n      if (this.errors[rule.field]) return;\n\n      const fieldValue = state[rule.field] || '';\n      const args = rule.args || [];\n      const validationMethod = typeof rule.method === 'string'\n        ? methods[rule.method]\n        : rule.method;\n\n      if (validationMethod(fieldValue, ...args, state) !== rule.validWhen) {\n        this.errors[rule.field] = rule.message;\n        this.isValid = false;\n      }\n    });\n    return this.errors;\n  }\n}\n\nexport default Validator;\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,WAAW;AAE/B,MAAMC,SAAS,CAAC;EACdC,WAAWA,CAACC,KAAK,EAAE;IACjB,IAAI,CAACA,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,QAAQ,CAAC,CAAC;EACjB;EAEAA,QAAQA,CAAA,EAAG;IACT,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,MAAM,GAAG,CAAC,CAAC;EAClB;EAEAC,IAAIA,CAAA,EAAE;IACJ,MAAMJ,KAAK,GAAG,CACZ;MACIK,KAAK,EAAE,MAAM;MACbC,MAAM,EAAE,SAAS;MACjBC,SAAS,EAAE,KAAK;MAChBC,OAAO,EAAE;IACb,CAAC,EACD;MACIH,KAAK,EAAE,OAAO;MACdC,MAAM,EAAE,SAAS;MACjBC,SAAS,EAAE,KAAK;MAChBC,OAAO,EAAE;IACb,CAAC,EACD;MACIH,KAAK,EAAE,OAAO;MACdC,MAAM,EAAE,SAAS;MACjBC,SAAS,EAAE,IAAI;MACfC,OAAO,EAAE;IACb,CAAC,EACD;MACIH,KAAK,EAAE,OAAO;MACdC,MAAM,EAAE,SAAS;MACjBC,SAAS,EAAE,KAAK;MAChBC,OAAO,EAAE;IACb,CAAC,CACJ;EACD;EAEAC,QAAQA,CAACC,KAAK,EAAE;IACd,IAAI,CAACT,QAAQ,CAAC,CAAC;IACf,IAAI,CAACD,KAAK,CAAC,CAAC,CAACW,OAAO,CAAEP,IAAI,IAAK;MAC7B,IAAI,IAAI,CAACD,MAAM,CAACC,IAAI,CAACC,KAAK,CAAC,EAAE;MAE7B,MAAMO,UAAU,GAAGF,KAAK,CAACN,IAAI,CAACC,KAAK,CAAC,IAAI,EAAE;MAC1C,MAAMQ,IAAI,GAAGT,IAAI,CAACS,IAAI,IAAI,EAAE;MAC5B,MAAMC,gBAAgB,GAAG,OAAOV,IAAI,CAACE,MAAM,KAAK,QAAQ,GACpDT,OAAO,CAACO,IAAI,CAACE,MAAM,CAAC,GACpBF,IAAI,CAACE,MAAM;MAEf,IAAIQ,gBAAgB,CAACF,UAAU,EAAE,GAAGC,IAAI,EAAEH,KAAK,CAAC,KAAKN,IAAI,CAACG,SAAS,EAAE;QACnE,IAAI,CAACJ,MAAM,CAACC,IAAI,CAACC,KAAK,CAAC,GAAGD,IAAI,CAACI,OAAO;QACtC,IAAI,CAACN,OAAO,GAAG,KAAK;MACtB;IACF,CAAC,CAAC;IACF,OAAO,IAAI,CAACC,MAAM;EACpB;AACF;AAEA,eAAeL,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}